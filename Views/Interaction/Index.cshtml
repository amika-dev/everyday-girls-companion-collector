@model EverydayGirlsCompanionCollector.Models.ViewModels.InteractionViewModel
@{
    ViewData["Title"] = "Interaction";
}

<div class="interaction-container">
    <h1 class="text-center mb-4">Interaction</h1>

    <!-- Countdown -->
    <div class="countdown-panel text-center mb-4">
        <h5>Next Reset In</h5>
        <p class="countdown-timer">
            <strong data-countdown-seconds="@((int)Model.TimeUntilReset.TotalSeconds)"></strong>
        </p>
    </div>

    <!-- Messages -->
    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger">@TempData["Error"]</div>
    }

    <!-- Partner Display -->
    <div class="partner-interaction-panel">
        <div class="partner-card-large">
            <img src="@Model.Partner.ImageUrl" alt="@Model.Partner.Name" class="partner-image-large" />
            <div class="partner-info-large">
                <h3>@Model.Partner.Name</h3>
                <p><strong>Bond:</strong> @Model.PartnerBond</p>
                <p><strong>Personality:</strong> @Model.PartnerTag</p>
            </div>
        </div>

        <!-- Dialogue Display -->
        @if (!string.IsNullOrEmpty(Model.Dialogue))
        {
            <div class="dialogue-box">
                <p class="dialogue-text">"@Model.Dialogue"</p>
            </div>
        }

        <!-- Interact Button -->
        <div class="text-center mt-4">
            @if (Model.IsDailyInteractionAvailable)
            {
                <form method="post" asp-action="Do">
                    @Html.AntiForgeryToken()
                    <button type="submit" class="btn btn-primary btn-lg">Interact</button>
                </form>
            }
            else
            {
                <button class="btn btn-secondary btn-lg" disabled>Daily Interaction Used</button>
            }
        </div>
    </div>

    <!-- Back Button -->
    <div class="text-center mt-4">
        <a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary">Back to Main Menu</a>
    </div>
</div>


